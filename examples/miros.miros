block auto start
  string for
    snip
      for $1 <- $|2⟨\@⟨$2\⟩,$2⟩
      $0

  string choice
    snip \$|$1⟨$2\⟩$0

  string nonempty
    snip \$?$1⟨$2\⟩$0

  for kind <- @⟨string,pattern⟩
  string @⟨@kind:s,p⟩snip
    snip
      @kind $1
        name $2
        snip$3

      $0
